(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{9481:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(3426)}])},3426:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return ge}});var n=r(2010),o=r(4378),a=r.n(o),i=r(2135),u=r.n(i),s=r(5696),c=r.n(s),l=r(6687);const f=e=>{let t;const r=new Set,n=(e,n)=>{const o="function"===typeof e?e(t):e;if(o!==t){const e=t;t=n?o:Object.assign({},t,o),r.forEach((r=>r(t,e)))}},o=()=>t,a={setState:n,getState:o,subscribe:e=>(r.add(e),()=>r.delete(e)),destroy:()=>r.clear()};return t=e(n,o,a),a};var p=r(6830);const d=e=>{const t="function"===typeof e?(e=>e?f(e):f)(e):e,r=(e,r)=>function(e,t=e.getState,r){const n=(0,p.useSyncExternalStoreWithSelector)(e.subscribe,e.getState,e.getServerState||e.getState,t,r);return(0,l.useDebugValue)(n),n}(t,e,r);return Object.assign(r,t),r};var v=e=>e?d(e):d;Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;const y=e=>(t,r,n)=>{const o=n.subscribe;n.subscribe=(e,t,r)=>{let a=e;if(t){const o=(null==r?void 0:r.equalityFn)||Object.is;let i=e(n.getState());a=r=>{const n=e(r);if(!o(i,n)){const e=i;t(i=n,e)}},(null==r?void 0:r.fireImmediately)&&t(i,i)}return o(a)};return e(t,r,n)};var h=Object.defineProperty,m=Object.getOwnPropertySymbols,b=Object.prototype.hasOwnProperty,x=Object.prototype.propertyIsEnumerable,g=(e,t,r)=>t in e?h(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,w=(e,t)=>{for(var r in t||(t={}))b.call(t,r)&&g(e,r,t[r]);if(m)for(var r of m(t))x.call(t,r)&&g(e,r,t[r]);return e};const M=e=>t=>{try{const r=e(t);return r instanceof Promise?r:{then:e=>M(e)(r),catch(e){return this}}}catch(r){return{then(e){return this},catch:e=>M(e)(r)}}},j=(e,t)=>(r,n,o)=>{let a=w({getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:e=>e,version:0,merge:(e,t)=>w(w({},t),e)},t),i=!1;const u=new Set,s=new Set;let c;try{c=a.getStorage()}catch(h){}if(!c)return e(((...e)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),r(...e)}),n,o);const l=M(a.serialize),f=()=>{const e=a.partialize(w({},n()));let t;const r=l({state:e,version:a.version}).then((e=>c.setItem(a.name,e))).catch((e=>{t=e}));if(t)throw t;return r},p=o.setState;o.setState=(e,t)=>{p(e,t),f()};const d=e(((...e)=>{r(...e),f()}),n,o);let v;const y=()=>{var e;if(!c)return;i=!1,u.forEach((e=>e(n())));const t=(null==(e=a.onRehydrateStorage)?void 0:e.call(a,n()))||void 0;return M(c.getItem.bind(c))(a.name).then((e=>{if(e)return a.deserialize(e)})).then((e=>{if(e){if("number"!==typeof e.version||e.version===a.version)return e.state;if(a.migrate)return a.migrate(e.state,e.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}})).then((e=>{var t;return v=a.merge(e,null!=(t=n())?t:d),r(v,!0),f()})).then((()=>{null==t||t(v,void 0),i=!0,s.forEach((e=>e(v)))})).catch((e=>{null==t||t(void 0,e)}))};return o.persist={setOptions:e=>{a=w(w({},a),e),e.getStorage&&(c=e.getStorage())},clearStorage:()=>{null==c||c.removeItem(a.name)},rehydrate:()=>y(),hasHydrated:()=>i,onHydrate:e=>(u.add(e),()=>{u.delete(e)}),onFinishHydration:e=>(s.add(e),()=>{s.delete(e)})},y(),v||d};var S,P;!function(e){e[e.ModePvC=0]="ModePvC",e[e.ModePvP=1]="ModePvP",e[e.ModeCvP=2]="ModeCvP"}(S||(S={})),function(e){e[e.InProgress=0]="InProgress",e[e.P1Victory=1]="P1Victory",e[e.P2Victory=2]="P2Victory",e[e.Tie=3]="Tie"}(P||(P={}));var O=[448,56,7,292,146,73,273,84],k=511;function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a=[],i=!0,u=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(s){u=!0,o=s}finally{try{i||null==r.return||r.return()}finally{if(u)throw o}}return a}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return N(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return N(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e){if(!e)return{};var t=e.split("_").map((function(e){return parseInt(e)})).filter((function(e){return!isNaN(e)}));if(10!==t.length)return{};var r=C(t,10);return{playMode:r[0],playerNo:r[1],p1Moves:r[2],p2Moves:r[3],pvcRecords:[r[4],r[5],r[6]],pvpRecords:[r[7],r[8],r[9]]}}function E(e){var t;return null!==(t=O.find((function(t){return(t&e)===t})))&&void 0!==t?t:0}function _(e,t){return E(e)?P.P1Victory:E(t)?P.P2Victory:((e|t)&k)===k?P.Tie:P.InProgress}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function T(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function R(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){T(e,t,r[t])}))}return e}function V(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a=[],i=!0,u=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(s){u=!0,o=s}finally{try{i||null==r.return||r.return()}finally{if(u)throw o}}return a}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return I(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return I(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function L(e){return function(e){if(Array.isArray(e))return z(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return z(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return z(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U(e){return[e.playMode,e.playerNo,e.p1Moves,e.p2Moves].concat(L(e.pvcRecords),L(e.pvpRecords)).join("_")}function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function D(e){return function(e){if(Array.isArray(e))return H(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return H(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return H(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var $,G=y(j(($=function(e,t){return{playMode:S.ModePvC,playerNo:0,p1Moves:0,p2Moves:0,pvcRecords:[0,0,0],pvpRecords:[0,0,0],dispatch:function(t){return e((function(e){return function(e,t){switch(t.type){case"SET_PLAY_MODE":return R({},e,{playerNo:0,p1Moves:0,p2Moves:0,playMode:t.payload});case"MOVE":var r=e.playMode,n=e.playerNo,o=e.p1Moves,a=e.p2Moves,i=e.pvcRecords,u=e.pvpRecords,s=t.payload;if(_(o,a)!==P.InProgress)return R({},e,{playerNo:0,p1Moves:0,p2Moves:0});if(s&o||s&a||!(s&k)||-512&s)return e;var c={playerNo:(n+1)%2,p1Moves:0===n?o|s:o,p2Moves:1===n?a|s:a},l=_(c.p1Moves,c.p2Moves);if(l!==P.InProgress){var f=V(r===S.ModePvC?i:u,3),p=f[0],d=f[1],v=f[2],y=r===S.ModePvC?"pvcRecords":"pvpRecords";switch(l){case P.P1Victory:c[y]=[p+1,d,v];break;case P.P2Victory:c[y]=[p,d+1,v];break;case P.Tie:c[y]=[p,d,v+1]}}return R({},e,c);case"NEXT_GAME":return R({},e,{playerNo:e.playMode===S.ModePvC?0:1});case"LOAD":return R({},e,A(t.payload))}}(e,t)}))}}},function(e,t,r,n){return $((function(){for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];e.apply(void 0,D(n));var a=new URLSearchParams(location.hash.replace(/^#/,""));a.set("s",U(t())),location.hash="#"+a.toString()}),t,r,n)}),{name:"gameState",serialize:function(e){return U(e.state)},deserialize:function(e){return{state:A(e)}}})),X=v(G);function W(){return Array(9).fill(0).map((function(e,t){return 1<<8-t}))}function B(e,t){e({type:"MOVE",payload:t})}function F(e,t){e({type:"SET_PLAY_MODE",payload:t})}function J(e,t){e({type:"LOAD",payload:t})}var K=function(e){return{playMode:e.playMode,playerNo:e.playerNo,p1Moves:e.p1Moves,p2Moves:e.p2Moves,dispatch:e.dispatch}},Q=function(e){var t=e.position,r=X(K),o=r.playMode,a=r.playerNo,i=r.p1Moves,u=r.p2Moves,s=r.dispatch,f=E(i)||E(u),p=(0,l.useCallback)((function(){B(s,t),new Audio("./click.mp3").play()}),[s,t]);return(0,n.jsx)("button",{onClick:p,className:c()("text-7xl sm:text-9xl w-1/3 h-1/3 hover:bg-yellow-50",{blink:f&t,"text-red-700":i&t,"text-green-700":u&t,"opacity-10":0!==f&&!(f&t)}),disabled:o===S.ModePvC&&0!==a,children:i&t?"X":u&t?"O":""},t)},Y=function(e){return{playMode:e.playMode,playerNo:e.playerNo,p1Moves:e.p1Moves,p2Moves:e.p2Moves,dispatch:e.dispatch}},q=function(){var e=X(Y),t=e.playMode,r=e.playerNo,o=e.p1Moves,a=e.p2Moves,i=e.dispatch;(0,l.useEffect)((function(){(t===S.ModePvC&&1===r||t===S.ModeCvP&&0===r)&&setTimeout((function(){return function(e,t,r,n,o){if(!(e===S.ModePvC&&1!==t||e===S.ModeCvP&&0!==t))if(_(r,n)===P.InProgress){var a=W().filter((function(e){return!((r|n)&e)})),i=e===S.ModePvC?n:r,u=a.find((function(e){return E(i|e)}));if(u)B(o,u);else{var s=e===S.ModePvC?r:n,c=a.find((function(e){return E(s|e)}));B(o,c||a[~~(Math.random()*a.length)])}}else o({type:"NEXT_GAME"})}(t,r,o,a,i)}),300)}),[i,o,a,t,r]);var u=_(o,a),s={blink:u===P.Tie};return(0,n.jsxs)("div",{id:"board",className:"relative flex flex-wrap w-72 h-72 sm:w-96 sm:h-96 justify-center",children:[u!==P.InProgress&&(0,n.jsx)("div",{className:"fixed inset-0 z-40 cursor-pointer",onClick:function(){return B(i,0)}}),(0,n.jsx)("div",{className:c()("absolute w-72 sm:w-96 border-8 border-black rounded-full",s),style:{top:"33.333333%"}}),(0,n.jsx)("div",{className:c()("absolute w-72 sm:w-96 border-8 border-black rounded-full",s),style:{top:"66.666666%"}}),(0,n.jsx)("div",{className:c()("absolute h-72 sm:h-96 border-8 border-black rounded-full",s),style:{left:"33.333333%"}}),(0,n.jsx)("div",{className:c()("absolute h-72 sm:h-96 border-8 border-black rounded-full",s),style:{left:"66.666666%"}}),W().map((function(e){return(0,n.jsx)(Q,{position:e},e)}))]})};function Z(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ee(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a=[],i=!0,u=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(s){u=!0,o=s}finally{try{i||null==r.return||r.return()}finally{if(u)throw o}}return a}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Z(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Z(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var te=function(e){return{playMode:e.playMode,playerNo:e.playerNo,pvcRecords:e.pvcRecords,pvpRecords:e.pvpRecords,p1Moves:e.p1Moves,p2Moves:e.p2Moves}},re=function(){var e=X(te),t=e.playMode,r=e.playerNo,o=e.pvcRecords,a=e.pvpRecords,i=_(e.p1Moves,e.p2Moves)===P.Tie,u=ee(t===S.ModePvC?o:a,3),s=u[0],l=u[1],f=u[2],p=t===S.ModeCvP?"Computer":"Player 1",d=t===S.ModePvC?"Computer":"Player 2";return(0,n.jsxs)("footer",{className:"relative flex text-xs sm:text-sm justify-center w-72 sm:w-96 pt-4",children:[(0,n.jsxs)("div",{className:c()("flex text-xs sm:text-sm w-20 h-20 sm:w-28 sm:h-28 text-center place-items-center place-content-center text-red-700 border-dashed rounded-full",{"border border-black":!i&&0===r}),children:[p," (X)",(0,n.jsx)("br",{}),s]}),(0,n.jsxs)("div",{className:c()("flex text-xs sm:text-sm w-20 h-20 sm:w-28 sm:h-28 text-center place-items-center place-content-center  border-dashed rounded-full",{"border border-black":i}),children:["Tie",(0,n.jsx)("br",{}),f]}),(0,n.jsxs)("div",{className:c()("flex text-xs sm:text-sm w-20 h-20 sm:w-28 sm:h-28 text-center place-items-center place-content-center text-green-700 border-dashed rounded-full",{"border border-black":!i&&1===r}),children:[d," (O)",(0,n.jsx)("br",{}),l]})]})},ne=function(e){return{playMode:e.playMode,p1Moves:e.p1Moves,p2Moves:e.p2Moves,dispatch:e.dispatch}},oe=function(){var e=X(ne),t=e.playMode,r=e.p1Moves,o=e.p2Moves,a=e.dispatch,i=_(r,o);return(0,n.jsxs)("nav",{className:"relative inline-flex rounded-md w-72 sm:w-96 shadow-sm mb-5 justify-center pb-3",role:"group",children:[(0,n.jsx)("div",{className:"absolute top-10 w-72 sm:w-96 text-center text-nowrap text-blue-700",style:{textShadow:"1px 1px #ccc"},children:i!==P.InProgress&&"( click to continue )"}),(0,n.jsxs)("button",{type:"button",className:c()("py-2 px-4 text-xs sm:text-sm font-medium rounded-l-lg border border-gray-200",{"text-gray-400 bg-white hover:bg-gray-100 hover:text-blue-700 focus:text-blue-700":t!==S.ModePvC,"text-white bg-blue-700":t===S.ModePvC}),onClick:function(){return F(a,S.ModePvC)},children:[(0,n.jsx)("svg",{className:"mr-2 w-4 h-4 fill-current inline",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"PvC"]}),(0,n.jsxs)("button",{type:"button",className:c()("py-2 px-4 text-xs sm:text-sm font-medium border border-gray-200",{"text-gray-400 bg-white hover:bg-gray-100 hover:text-blue-700 focus:text-blue-700":t!==S.ModePvP,"text-white bg-blue-700":t===S.ModePvP}),onClick:function(){return F(a,S.ModePvP)},children:[(0,n.jsx)("svg",{className:"mr-2 w-4 h-4 fill-current inline",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})}),"PvP"]}),(0,n.jsxs)("button",{type:"button",className:c()("py-2 px-4 text-xs sm:text-sm font-medium rounded-r-md border border-gray-200",{"text-gray-400 bg-white hover:bg-gray-100 hover:text-blue-700 focus:text-blue-700":t!==S.ModeCvP,"text-white bg-blue-700":t===S.ModeCvP}),onClick:function(){return F(a,S.ModeCvP)},children:[(0,n.jsx)("svg",{className:"mr-2 w-4 h-4 fill-current inline",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"CvP"]})]})},ae=r(3031),ie=r.n(ae);function ue(e,t,r,n,o,a,i){try{var u=e[a](i),s=u.value}catch(c){return void r(c)}u.done?t(s):Promise.resolve(s).then(n,o)}function se(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){ue(a,n,o,i,u,"next",e)}function u(e){ue(a,n,o,i,u,"throw",e)}i(void 0)}))}}var ce="https://keyvalue.immanuel.co/api/KeyVal";function le(){return fe.apply(this,arguments)}function fe(){return(fe=se(ie().mark((function e(){var t;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(ce,"/GetAppKey")).then((function(e){return e.json()})).catch((function(){return Promise.resolve("")}));case 2:return t=e.sent,e.abrupt("return","".concat(t));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pe(e){return de.apply(this,arguments)}function de(){return(de=se(ie().mark((function e(t){var r,n,o,a,i,u;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,Promise.all([fetch("".concat(ce,"/GetValue/").concat(t,"/0")).then((function(e){return e.json()})).catch((function(){return Promise.resolve("")})),fetch("".concat(ce,"/GetValue/").concat(t,"/1")).then((function(e){return e.json()})).catch((function(){return Promise.resolve("")}))]);case 3:if(o=e.sent,a=o.map((function(e){return ve(e)})),!((null!==(i=null===(r=a[0])||void 0===r?void 0:r.version)&&void 0!==i?i:0)<(null!==(u=null===(n=a[1])||void 0===n?void 0:n.version)&&void 0!==u?u:0))){e.next=10;break}return e.abrupt("return",a[1]);case 10:return e.abrupt("return",a[0]);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ve(e){var t=/^(\d+)_(.+)$/.exec(e);return t?{version:parseInt(t[1]),state:t[2]}:null}function ye(e,t,r,n){return he.apply(this,arguments)}function he(){return(he=se(ie().mark((function e(t,r,n,o){var a;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(ce,"/UpdateValue/").concat(t,"/").concat(n?0:1,"/").concat(encodeURIComponent(r+"_"+o)),{method:"POST"}).then((function(e){return e.json()})).catch((function(){return Promise.resolve(!1)}));case 2:return a=e.sent,e.abrupt("return",!!a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function me(e,t,r){function n(){return o.apply(this,arguments)}function o(){return(o=se(ie().mark((function o(){var a,i;return ie().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(!r.current){o.next=2;break}return o.abrupt("return");case 2:if(a=X.getState(),!e.current||a.playMode!==S.ModePvP){o.next=8;break}return o.next=6,pe(e.current);case 6:null!==(i=o.sent)&&i.version>t.current&&(i.state!==U(a)&&J(a.dispatch,i.state),t.current=i.version);case 8:setTimeout((function(){return n()}),300);case 9:case"end":return o.stop()}}),o)})))).apply(this,arguments)}return n}function be(e){var t=(0,l.useRef)(""),r=(0,l.useRef)(0),n=(0,l.useRef)(!0),o=(0,l.useRef)(!1);return(0,l.useEffect)((function(){X.subscribe((function(e){return U(e)}),function(e,t,r){return function(){var n=se(ie().mark((function n(o,a){return ie().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o!==a){n.next=2;break}return n.abrupt("return");case 2:if(a&&/^1_/.test(a)&&/^1_/.test(o)){n.next=4;break}return n.abrupt("return");case 4:return t.current++,n.next=7,ye(e.current,t.current,r.current,o);case 7:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()}(t,r,n),{fireImmediately:!0});var a=null!==e&&void 0!==e?e:new URLSearchParams(location.hash.replace(/^#/,"")).get("r");return a?(n.current=a===localStorage.getItem("roomHosted"),t.current=a,setTimeout(me(t,r,o),300)):setTimeout(function(e,t,r){return se(ie().mark((function n(){var o,a,i;return ie().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,le();case 2:o=n.sent,a=ye(o,t.current,!0,U(X.getState())),o&&a&&(localStorage.setItem("roomHosted",o),e.current=o,(i=new URLSearchParams(location.hash.replace(/^#/,""))).set("r",o),console.log({hash:location.hash.replace(/^#/,""),params:i}),location.hash="#"+i.toString()),setTimeout(me(e,t,r),300);case 6:case"end":return n.stop()}}),n)})))}(t,r,o),0),function(){o.current=!0}}),[e]),{room:t,version:r,isHost:n,isExited:o}}var xe=function(e){return{dispatch:e.dispatch}},ge=function(){var e=X(xe).dispatch;return(0,l.useEffect)((function(){var t=new URLSearchParams(location.hash.replace(/^#/,"")).get("s");t&&J(e,t)}),[]),be(),(0,n.jsxs)("div",{className:u().container,children:[(0,n.jsxs)(a(),{children:[(0,n.jsx)("title",{children:"Tic-Tac-Toe"}),(0,n.jsx)("meta",{name:"description",content:"Tic-Tac-Toe"}),(0,n.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,n.jsxs)("main",{className:"flex flex-col flex-wrap min-h-screen place-content-center place-items-center",children:[(0,n.jsx)("button",{type:"button",onClick:function(){return J(e,"0_0_0_0_0_0_0_0_0_0")},className:"text-gray-900 bg-white border border-gray-300 hover:bg-gray-100 rounded-full text-xs py-2 m-2.5 px-2.5 top-0 right-0 absolute z-50",children:"reset"}),(0,n.jsx)(oe,{}),(0,n.jsx)(q,{}),(0,n.jsx)(re,{})]})]})}},2135:function(e){e.exports={main:"Home_main__nLjiQ",grid:"Home_grid__GxQ85"}},4378:function(e,t,r){e.exports=r(6697)},4797:function(e,t,r){"use strict";var n=r(6687);var o="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=n.useState,i=n.useEffect,u=n.useLayoutEffect,s=n.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!o(e,r)}catch(n){return!0}}var l="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var r=t(),n=a({inst:{value:r,getSnapshot:t}}),o=n[0].inst,l=n[1];return u((function(){o.value=r,o.getSnapshot=t,c(o)&&l({inst:o})}),[e,r,t]),i((function(){return c(o)&&l({inst:o}),e((function(){c(o)&&l({inst:o})}))}),[e]),s(r),r};t.useSyncExternalStore=void 0!==n.useSyncExternalStore?n.useSyncExternalStore:l},8382:function(e,t,r){"use strict";var n=r(6687),o=r(4754);var a="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},i=o.useSyncExternalStore,u=n.useRef,s=n.useEffect,c=n.useMemo,l=n.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,r,n,o){var f=u(null);if(null===f.current){var p={hasValue:!1,value:null};f.current=p}else p=f.current;f=c((function(){function e(e){if(!s){if(s=!0,i=e,e=n(e),void 0!==o&&p.hasValue){var t=p.value;if(o(t,e))return u=t}return u=e}if(t=u,a(i,e))return t;var r=n(e);return void 0!==o&&o(t,r)?t:(i=e,u=r)}var i,u,s=!1,c=void 0===r?null:r;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]}),[t,r,n,o]);var d=i(e,f[0],f[1]);return s((function(){p.hasValue=!0,p.value=d}),[d]),l(d),d}},4754:function(e,t,r){"use strict";e.exports=r(4797)},6830:function(e,t,r){"use strict";e.exports=r(8382)},5696:function(e,t){var r;!function(){"use strict";var n={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var a=typeof r;if("string"===a||"number"===a)e.push(r);else if(Array.isArray(r)){if(r.length){var i=o.apply(null,r);i&&e.push(i)}}else if("object"===a)if(r.toString===Object.prototype.toString)for(var u in r)n.call(r,u)&&r[u]&&e.push(u);else e.push(r.toString())}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(r=function(){return o}.apply(t,[]))||(e.exports=r)}()}},function(e){e.O(0,[774,888,179],(function(){return t=9481,e(e.s=t);var t}));var t=e.O();_N_E=t}]);